import{I as g,O as l}from"./entry.950a9e27.js";const i=g([]);function r(s,t,e){const o={id:Date.now(),icon:s==="danger"?"fa-exclamation-triangle":"fa-check",statusBg:s==="danger"?"danger":"success",statusColor:" text-white",title:t,message:e};i.push(o),setTimeout(()=>{i.shift()},8e3)}const d={usePushMessage:r};let n=!0;const f=(s,t)=>(...e)=>{{const c=l().$useLoading();let a=null;return n&&(a=c.show({container:t?t():null}),n=!1),s(...e).catch(u=>{d.usePushMessage("danger",`${u.message||"發生錯誤"}-'Error'`,u.message||"請聯絡系統管理員。")}).finally(()=>{a&&a.hide(),n=!0})}};export{f as l,d as p,i as t};
