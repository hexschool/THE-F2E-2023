import{e as z,G as A,B as E,r as v,a as F,w as G,d as O,g as c,i as m,j as e,k as n,l as o,u as r,x as $,F as k,m as y,v as s,t as g,q as C,H as V,Q as q,n as J,_ as M,D as X,E as Y,A as Q}from"./entry.950a9e27.js";import{_ as K}from"./client-only.77fcb457.js";import{u as U}from"./cookie.68603f12.js";import{k as W}from"./users.810791e2.js";import{f as Z,u as ee,t as te}from"./team.297d1263.js";import"./useCustomFetch.e7fcaaf5.js";import"./fetch.6d0ababc.js";const se=""+new URL("logo.b498d81f.svg",import.meta.url).href,i=h=>(X("data-v-2c25ff9c"),h=h(),Y(),h),ae={class:"navbar navbar-expand-lg navbar-light px-3 px-lg-12 py-2 py-lg-4 z-1"},oe={class:"container-fluid"},ne=i(()=>e("img",{class:"logo-size",src:se,alt:"F2E LOGO"},null,-1)),le=i(()=>e("div",{class:"d-flex"},[e("button",{class:"navbar-toggler border-0 p-0",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"material-symbols-outlined align-middle fs-1 text-black"}," menu ")])],-1)),ie={id:"navbarSupportedContent",class:"collapse navbar-collapse"},de={class:"navbar-nav ms-auto mt-4 mt-lg-0 mb-2 mb-lg-0 align-items-lg-center gap-1 gap-lg-0"},ce=i(()=>e("li",{class:"nav-item"},[e("hr",{class:"divider"})],-1)),re={class:"nav-item dropdown ms-5 gap-1 mb-1 mb-md-0"},ue={id:"navbarDropdown",class:"nav-link dropdown-toggle p-0",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},me=["src"],_e={class:"dropdown-menu mt-lg-7 p-lg-4","aria-labelledby":"navbarDropdown"},pe={class:"fill material-symbols-outlined pe-2 align-middle d-none d-lg-inline-block"},fe=i(()=>e("li",{class:"d-none d-lg-block"},[e("hr",{class:"dropdown-divider"})],-1)),ve={class:"nav-item d-none d-lg-block"},ge=i(()=>e("span",{class:"fill material-symbols-outlined pe-2 align-middle d-none d-lg-inline-block"},"diagnosis",-1)),he={class:"nav-item d-none d-lg-block"},be=["onClick"],ke=i(()=>e("span",{class:"fill material-symbols-outlined pe-2 align-middle"},"move_item",-1)),xe={class:"nav-item d-lg-none"},we={class:"nav-item d-lg-none"},ye=["onClick"],Ce=i(()=>e("span",{class:"fill material-symbols-outlined pe-2 align-middle"},"move_item",-1)),Se=i(()=>e("li",{class:"nav-item"},[e("hr",{class:"divider"})],-1)),Ie={class:"nav-item d-lg-none"},De=i(()=>e("span",{class:"fill material-symbols-outlined pe-2 align-middle"},"login",-1)),Le={class:"bg-black px-3 px-md-12 py-7 text-white fw-medium d-flex align-items-center justify-content-between"},Ve=i(()=>e("h5",null,"Copyright © 2023 HexSchool.All rights reserved.",-1)),Ue={class:"d-none d-md-flex gap-5 mb-0 list-unstyled"},je=z({__name:"default",setup(h){const j=A(),B=E(),b=v(!1),x=v({team:!1,user:!1}),l=v({avatar:null,description:null,email:"",facebook_url:null,medal_image_url:null,medal_name:null,nickname:"",user_id:"",individual_competition:{name:""}}),R=v([{to:"/users/prepare",name:"賽前準備",icon:"import_contacts"},{to:"/users",name:"編輯個人資料",icon:"edit_square"},{to:"/users/record",name:"投稿紀錄",icon:"feed"}]),T=v([{to:"/news",name:"關卡資訊",disabled:!1},{to:"/works",name:"作品列表"},{to:"/reward",name:"戰績榜",external:!0},{to:"/jobs",name:"求職專區",external:!0},{to:"/login",name:"登入",customClass:"d-lg-block d-none"}]),H=v([{to:"/news",name:"關卡資訊",disabled:!1},{to:"/works",name:"作品列表"},{to:"/reward",name:"戰績榜",external:!0},{to:"/jobs",name:"求職專區",external:!0}]),N=async()=>{var f,t,_,d,p;const{data:a}=await W();l.value=(f=a.value)==null?void 0:f.user_info,((t=l.value)==null?void 0:t.team_competition)!==null&&(x.value.team=l.value.team_competition.is_leader),((_=l.value)==null?void 0:_.individual_competition)!==null&&(x.value.user=!0,window.sessionStorage.setItem("HbPeShUserVmYTyPe",(p=(d=a.value)==null?void 0:d.user_info)==null?void 0:p.individual_competition.name))},S=()=>{const a=U("t_sInR5cCI6IkpXVCJ_token");b.value=a.value!==void 0&&a.value!=="",b.value&&J(async()=>{await N()})};F(async()=>{await S()}),G(()=>j.path,async()=>{await S()});const P=O(()=>{var a,f,t,_;return((f=(a=l.value)==null?void 0:a.individual_competition)==null?void 0:f.name)==="個人組/前端工程師"?Z:((_=(t=l.value)==null?void 0:t.individual_competition)==null?void 0:_.name)==="個人組/UI設計師"?ee:te}),I=()=>{const a=U("t_sInR5cCI6IkpXVCJ_token");a.value=null,window.sessionStorage.removeItem("HbPeShUserVmYTyPe"),b.value=!1,x.value={team:!1,user:!1},B.push("/login")};return(a,f)=>{const t=M,_=K;return c(),m("div",null,[e("nav",ae,[e("div",oe,[n(t,{class:"navbar-brand",to:"/"},{default:o(()=>[ne]),_:1}),le,e("div",ie,[e("ul",de,[r(b)?(c(),$(_,{key:0},{default:o(()=>{var d,p,D,L;return[(c(!0),m(k,null,y(r(H),(u,w)=>(c(),m("li",{key:w,class:"nav-item"},[n(t,{class:C(["nav-link px-4 px-lg-3 fs-6",u.customClass]),to:u.to},{default:o(()=>[s(g(u.name),1)]),_:2},1032,["class","to"])]))),128)),ce,e("li",re,[e("a",ue,[e("img",{src:((d=r(l))==null?void 0:d.avatar)||r(P),class:"avatar me-1",alt:"個人頭貼"},null,8,me),s(" "+g(((p=r(l))==null?void 0:p.nickname)||"暱稱"),1)]),e("ul",_e,[(c(!0),m(k,null,y(r(R),(u,w)=>(c(),m("li",{key:w},[n(t,{class:C(["dropdown-item",{"d-none":u.disabled}]),to:u.to},{default:o(()=>[e("span",pe,g(u.icon),1),s(" "+g(u.name),1)]),_:2},1032,["to","class"])]))),128)),fe,e("li",ve,[n(t,{to:`/users/${(D=r(l))==null?void 0:D.user_id}`,class:"dropdown-item"},{default:o(()=>[ge,s(" 個人公開頁面 ")]),_:1},8,["to"])]),e("li",he,[e("a",{href:"#",class:"dropdown-item",onClick:V(I,["prevent"])},[ke,s(" 登出 ")],8,be)])])]),e("li",xe,[n(t,{to:`/users/${(L=r(l))==null?void 0:L.user_id}`,class:"nav-link fw-normal fs-6 px-4"},{default:o(()=>[s(" 個人公開頁面 ")]),_:1},8,["to"])]),e("li",we,[e("a",{href:"#",class:"nav-link fw-normal fs-6 px-4",onClick:V(I,["prevent"])},[Ce,s(" 登出 ")],8,ye)])]}),_:1})):(c(),m(k,{key:1},[(c(!0),m(k,null,y(r(T),(d,p)=>(c(),m("li",{key:p,class:"nav-item"},[n(t,{class:C(["nav-link px-4 px-lg-3 fs-6",d.customClass]),to:d.to},{default:o(()=>[s(g(d.name),1)]),_:2},1032,["class","to"])]))),128)),Se,e("li",Ie,[n(t,{to:"/login",class:"nav-link px-4 px-lg-3 fs-6"},{default:o(()=>[De,s(" 登入 ")]),_:1})])],64))])])])]),q(a.$slots,"default",{},void 0,!0),e("footer",Le,[Ve,e("ul",Ue,[e("li",null,[n(t,{to:"/news",class:"fs-5 text-white text-decoration-none"},{default:o(()=>[s(" 關卡資訊 ")]),_:1})]),e("li",null,[n(t,{to:"/works",class:"fs-5 text-white text-decoration-none"},{default:o(()=>[s(" 作品列表 ")]),_:1})]),e("li",null,[n(t,{to:"/reward",class:"fs-5 text-white text-decoration-none"},{default:o(()=>[s(" 戰績榜 ")]),_:1})]),e("li",null,[n(t,{to:"/jobs",class:"fs-5 text-white text-decoration-none"},{default:o(()=>[s(" 求職專區 ")]),_:1})])])])])}}});const Ae=Q(je,[["__scopeId","data-v-2c25ff9c"]]);export{Ae as default};
